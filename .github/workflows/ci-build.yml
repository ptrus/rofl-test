
  name: ROFL tests

  on:
    push:
      branches: [main]
    pull_request:
    workflow_dispatch:

  jobs:
    build:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v4

        - name: Build ROFL
          uses: oasisprotocol/build-deploy-rofl-action@ptrus/initial-impl
          with:
            network: testnet
            deployment: testnet
            skip_update: true
            skip_deploy: true

    verify:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v4

        - name: Verify ROFL
          uses: oasisprotocol/build-deploy-rofl-action@ptrus/initial-impl
          with:
            network: testnet
            deployment: testnet
            offline: false
            verify: true
            skip_update: true
            skip_deploy: true

